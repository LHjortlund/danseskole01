{% extends "base.html" %}

{% block title %}Danseskole - Elev{% endblock %}

{% block content %}

    <h2>Opret Dansehold</h2>
    <form action="/opret_dansehold" method="post">
        Stilart: <input type="text" name="stilart" placeholder="Stilart">
        Instruktor: <input type="text" name="instruktor" placeholder="instruktor">
        Lokation ID: <input type="number" name="lokation_id">
        <input type="submit" value="Opret Dansehold">
    </form>

    <h2>Liste over Dansehold</h2>
        <ul>
            {% for dansehold in dansehold_liste %}
            <li>
                {{ dansehold.stilart }} - {{ dansehold.instruktor }}
                <a href="/opdater_dansehold/{{ dansehold.id }}">Opdater</a>
                <button onclick="sletDansehold({{ dansehold.id }})">Slet</button>
            </li>
            {% endfor %}
        </ul>

    <script>
        function sletDansehold(danseholdID) {
            fetch(`/slet_dansehold/${danseholdId}`, {
                method: 'DELETE'
            }).then(response => response.json()).then(data => {
                alert(data.message);
                location.reload();
            }).catch(error => console.error('Fejl:', error));
        }
    </script>


{% endblock %}